{"backend_state":"init","connection_file":"/projects/2276727c-7763-4f74-8e1b-8f64a2a119f0/.local/share/jupyter/runtime/kernel-14f34cdf-4924-49f3-ae3f-49f8cfbe4a51.json","kernel":"nlp_env","kernel_error":"","kernel_state":"idle","kernel_usage":{"cpu":0,"memory":0},"metadata":{"language_info":{"codemirror_mode":{"name":"ipython","version":3},"file_extension":".py","mimetype":"text/x-python","name":"python","nbconvert_exporter":"python","pygments_lexer":"ipython3","version":"3.8.13"}},"trust":true,"type":"settings"}
{"cell_type":"code","exec_count":0,"id":"130b2d","input":"","pos":22,"type":"cell"}
{"cell_type":"code","exec_count":0,"id":"3f4d16","input":"","pos":16,"type":"cell"}
{"cell_type":"code","exec_count":0,"id":"724297","input":"","output":{"0":{"data":{"image/png":"49b4a5f4ab822eb755b7d43caf0b27249465efd8","text/plain":"<Figure size 1080x360 with 1 Axes>"},"exec_count":0,"metadata":{"needs_background":"light"},"output_type":"execute_result"}},"pos":0,"type":"cell"}
{"cell_type":"code","exec_count":0,"id":"c0c48a","input":"","pos":14,"type":"cell"}
{"cell_type":"code","exec_count":104,"id":"49ee45","input":"data2 = data[['latitude', 'longitude', 'price', 'minimum_nights', 'calculated_host_listings_count', 'availability_365']]\nfig = px.scatter_matrix(data2)\nfig.show()","output":{"0":{"data":{"iframe":"12ec0497826a81788f0d790c9354d8634bbbdd59"},"exec_count":104,"output_type":"execute_result"}},"pos":20,"type":"cell"}
{"cell_type":"code","exec_count":22,"id":"f91cd1","input":"data.head()","output":{"0":{"data":{"text/html":"<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>id</th>\n      <th>name</th>\n      <th>host_id</th>\n      <th>host_name</th>\n      <th>neighbourhood_group</th>\n      <th>neighbourhood</th>\n      <th>latitude</th>\n      <th>longitude</th>\n      <th>room_type</th>\n      <th>price</th>\n      <th>minimum_nights</th>\n      <th>number_of_reviews</th>\n      <th>last_review</th>\n      <th>reviews_per_month</th>\n      <th>calculated_host_listings_count</th>\n      <th>availability_365</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>0</th>\n      <td>2539</td>\n      <td>Clean &amp; quiet apt home by the park</td>\n      <td>2787</td>\n      <td>John</td>\n      <td>Brooklyn</td>\n      <td>Kensington</td>\n      <td>40.64749</td>\n      <td>-73.97237</td>\n      <td>Private room</td>\n      <td>149</td>\n      <td>1</td>\n      <td>9</td>\n      <td>2018-10-19</td>\n      <td>0.21</td>\n      <td>6</td>\n      <td>365</td>\n    </tr>\n    <tr>\n      <th>1</th>\n      <td>2595</td>\n      <td>Skylit Midtown Castle</td>\n      <td>2845</td>\n      <td>Jennifer</td>\n      <td>Manhattan</td>\n      <td>Midtown</td>\n      <td>40.75362</td>\n      <td>-73.98377</td>\n      <td>Entire home/apt</td>\n      <td>225</td>\n      <td>1</td>\n      <td>45</td>\n      <td>2019-05-21</td>\n      <td>0.38</td>\n      <td>2</td>\n      <td>355</td>\n    </tr>\n    <tr>\n      <th>2</th>\n      <td>3647</td>\n      <td>THE VILLAGE OF HARLEM....NEW YORK !</td>\n      <td>4632</td>\n      <td>Elisabeth</td>\n      <td>Manhattan</td>\n      <td>Harlem</td>\n      <td>40.80902</td>\n      <td>-73.94190</td>\n      <td>Private room</td>\n      <td>150</td>\n      <td>3</td>\n      <td>0</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>1</td>\n      <td>365</td>\n    </tr>\n    <tr>\n      <th>3</th>\n      <td>3831</td>\n      <td>Cozy Entire Floor of Brownstone</td>\n      <td>4869</td>\n      <td>LisaRoxanne</td>\n      <td>Brooklyn</td>\n      <td>Clinton Hill</td>\n      <td>40.68514</td>\n      <td>-73.95976</td>\n      <td>Entire home/apt</td>\n      <td>89</td>\n      <td>1</td>\n      <td>270</td>\n      <td>2019-07-05</td>\n      <td>4.64</td>\n      <td>1</td>\n      <td>194</td>\n    </tr>\n    <tr>\n      <th>4</th>\n      <td>5022</td>\n      <td>Entire Apt: Spacious Studio/Loft by central park</td>\n      <td>7192</td>\n      <td>Laura</td>\n      <td>Manhattan</td>\n      <td>East Harlem</td>\n      <td>40.79851</td>\n      <td>-73.94399</td>\n      <td>Entire home/apt</td>\n      <td>80</td>\n      <td>10</td>\n      <td>9</td>\n      <td>2018-11-19</td>\n      <td>0.10</td>\n      <td>1</td>\n      <td>0</td>\n    </tr>\n  </tbody>\n</table>\n</div>","text/plain":"     id                                              name  host_id  \\\n0  2539                Clean & quiet apt home by the park     2787   \n1  2595                             Skylit Midtown Castle     2845   \n2  3647               THE VILLAGE OF HARLEM....NEW YORK !     4632   \n3  3831                   Cozy Entire Floor of Brownstone     4869   \n4  5022  Entire Apt: Spacious Studio/Loft by central park     7192   \n\n     host_name neighbourhood_group neighbourhood  latitude  longitude  \\\n0         John            Brooklyn    Kensington  40.64749  -73.97237   \n1     Jennifer           Manhattan       Midtown  40.75362  -73.98377   \n2    Elisabeth           Manhattan        Harlem  40.80902  -73.94190   \n3  LisaRoxanne            Brooklyn  Clinton Hill  40.68514  -73.95976   \n4        Laura           Manhattan   East Harlem  40.79851  -73.94399   \n\n         room_type  price  minimum_nights  number_of_reviews last_review  \\\n0     Private room    149               1                  9  2018-10-19   \n1  Entire home/apt    225               1                 45  2019-05-21   \n2     Private room    150               3                  0         NaN   \n3  Entire home/apt     89               1                270  2019-07-05   \n4  Entire home/apt     80              10                  9  2018-11-19   \n\n   reviews_per_month  calculated_host_listings_count  availability_365  \n0               0.21                               6               365  \n1               0.38                               2               355  \n2                NaN                               1               365  \n3               4.64                               1               194  \n4               0.10                               1                 0  "},"exec_count":22,"output_type":"execute_result"}},"pos":13,"type":"cell"}
{"cell_type":"code","exec_count":37,"id":"4eed42","input":"","output":{"0":{"data":{"text/plain":"'/projects/2276727c-7763-4f74-8e1b-8f64a2a119f0/DS-Notebooks-Summer-2022/Project'"},"exec_count":37,"output_type":"execute_result"}},"pos":2,"type":"cell"}
{"cell_type":"code","exec_count":38,"id":"6ee567","input":"data.shape\n","output":{"0":{"data":{"text/plain":"(48895, 16)"},"exec_count":38,"output_type":"execute_result"}},"pos":8,"type":"cell"}
{"cell_type":"code","exec_count":40,"id":"b9bc9f","input":"len(data.index)","output":{"0":{"data":{"text/plain":"48895"},"exec_count":40,"output_type":"execute_result"}},"pos":10,"type":"cell"}
{"cell_type":"code","exec_count":43,"id":"8b9f88","input":"data.describe()\n\n","output":{"0":{"data":{"text/html":"<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>id</th>\n      <th>host_id</th>\n      <th>latitude</th>\n      <th>longitude</th>\n      <th>price</th>\n      <th>minimum_nights</th>\n      <th>number_of_reviews</th>\n      <th>reviews_per_month</th>\n      <th>calculated_host_listings_count</th>\n      <th>availability_365</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>count</th>\n      <td>4.889500e+04</td>\n      <td>4.889500e+04</td>\n      <td>48895.000000</td>\n      <td>48895.000000</td>\n      <td>48895.000000</td>\n      <td>48895.000000</td>\n      <td>48895.000000</td>\n      <td>38843.000000</td>\n      <td>48895.000000</td>\n      <td>48895.000000</td>\n    </tr>\n    <tr>\n      <th>mean</th>\n      <td>1.901714e+07</td>\n      <td>6.762001e+07</td>\n      <td>40.728949</td>\n      <td>-73.952170</td>\n      <td>152.720687</td>\n      <td>7.029962</td>\n      <td>23.274466</td>\n      <td>1.373221</td>\n      <td>7.143982</td>\n      <td>112.781327</td>\n    </tr>\n    <tr>\n      <th>std</th>\n      <td>1.098311e+07</td>\n      <td>7.861097e+07</td>\n      <td>0.054530</td>\n      <td>0.046157</td>\n      <td>240.154170</td>\n      <td>20.510550</td>\n      <td>44.550582</td>\n      <td>1.680442</td>\n      <td>32.952519</td>\n      <td>131.622289</td>\n    </tr>\n    <tr>\n      <th>min</th>\n      <td>2.539000e+03</td>\n      <td>2.438000e+03</td>\n      <td>40.499790</td>\n      <td>-74.244420</td>\n      <td>0.000000</td>\n      <td>1.000000</td>\n      <td>0.000000</td>\n      <td>0.010000</td>\n      <td>1.000000</td>\n      <td>0.000000</td>\n    </tr>\n    <tr>\n      <th>25%</th>\n      <td>9.471945e+06</td>\n      <td>7.822033e+06</td>\n      <td>40.690100</td>\n      <td>-73.983070</td>\n      <td>69.000000</td>\n      <td>1.000000</td>\n      <td>1.000000</td>\n      <td>0.190000</td>\n      <td>1.000000</td>\n      <td>0.000000</td>\n    </tr>\n    <tr>\n      <th>50%</th>\n      <td>1.967728e+07</td>\n      <td>3.079382e+07</td>\n      <td>40.723070</td>\n      <td>-73.955680</td>\n      <td>106.000000</td>\n      <td>3.000000</td>\n      <td>5.000000</td>\n      <td>0.720000</td>\n      <td>1.000000</td>\n      <td>45.000000</td>\n    </tr>\n    <tr>\n      <th>75%</th>\n      <td>2.915218e+07</td>\n      <td>1.074344e+08</td>\n      <td>40.763115</td>\n      <td>-73.936275</td>\n      <td>175.000000</td>\n      <td>5.000000</td>\n      <td>24.000000</td>\n      <td>2.020000</td>\n      <td>2.000000</td>\n      <td>227.000000</td>\n    </tr>\n    <tr>\n      <th>max</th>\n      <td>3.648724e+07</td>\n      <td>2.743213e+08</td>\n      <td>40.913060</td>\n      <td>-73.712990</td>\n      <td>10000.000000</td>\n      <td>1250.000000</td>\n      <td>629.000000</td>\n      <td>58.500000</td>\n      <td>327.000000</td>\n      <td>365.000000</td>\n    </tr>\n  </tbody>\n</table>\n</div>","text/plain":"                 id       host_id      latitude     longitude         price  \\\ncount  4.889500e+04  4.889500e+04  48895.000000  48895.000000  48895.000000   \nmean   1.901714e+07  6.762001e+07     40.728949    -73.952170    152.720687   \nstd    1.098311e+07  7.861097e+07      0.054530      0.046157    240.154170   \nmin    2.539000e+03  2.438000e+03     40.499790    -74.244420      0.000000   \n25%    9.471945e+06  7.822033e+06     40.690100    -73.983070     69.000000   \n50%    1.967728e+07  3.079382e+07     40.723070    -73.955680    106.000000   \n75%    2.915218e+07  1.074344e+08     40.763115    -73.936275    175.000000   \nmax    3.648724e+07  2.743213e+08     40.913060    -73.712990  10000.000000   \n\n       minimum_nights  number_of_reviews  reviews_per_month  \\\ncount    48895.000000       48895.000000       38843.000000   \nmean         7.029962          23.274466           1.373221   \nstd         20.510550          44.550582           1.680442   \nmin          1.000000           0.000000           0.010000   \n25%          1.000000           1.000000           0.190000   \n50%          3.000000           5.000000           0.720000   \n75%          5.000000          24.000000           2.020000   \nmax       1250.000000         629.000000          58.500000   \n\n       calculated_host_listings_count  availability_365  \ncount                    48895.000000      48895.000000  \nmean                         7.143982        112.781327  \nstd                         32.952519        131.622289  \nmin                          1.000000          0.000000  \n25%                          1.000000          0.000000  \n50%                          1.000000         45.000000  \n75%                          2.000000        227.000000  \nmax                        327.000000        365.000000  "},"exec_count":43,"output_type":"execute_result"}},"pos":12,"type":"cell"}
{"cell_type":"code","exec_count":48,"id":"56d289","input":"penguins_dataframe[penguins_dataframe[\"Flipper Length (mm)\"] <173].head(20)","pos":3,"type":"cell"}
{"cell_type":"code","exec_count":49,"id":"a65e1b","input":"","pos":7,"type":"cell"}
{"cell_type":"code","exec_count":52,"id":"ae0b82","input":"import pandas as pd \nimport numpy as np \nimport seaborn as sns\nimport matplotlib.pyplot as plt\n\n\ndata=pd.read_csv('/projects/2276727c-7763-4f74-8e1b-8f64a2a119f0/DS-Notebooks-Summer-2022/Project/Data/AB_NYC_2019.csv')\n\ncolumns_to_drop = ['name', 'host_name', 'last_review', 'reviews_per_month', 'id']\ndata.drop(columns_to_drop, axis=1, inplace = True)\n\n#data['name'].fillna(\"$\",inplace=True)\n#data['host_name'].fillna(\"#\",inplace=True)","pos":1,"type":"cell"}
{"cell_type":"code","exec_count":54,"id":"9abe3c","input":"data.neighbourhood_group.unique()","output":{"0":{"data":{"text/plain":"array(['Brooklyn', 'Manhattan', 'Queens', 'Staten Island', 'Bronx'],\n      dtype=object)"},"exec_count":54,"output_type":"execute_result"}},"pos":9,"type":"cell"}
{"cell_type":"code","exec_count":56,"id":"e3ecb1","input":"#data.neighbourhood.unique()","pos":11,"type":"cell"}
{"cell_type":"code","exec_count":68,"id":"02cb90","input":"data1 = data[data.neighbourhood_group == \"Brooklyn\"][[\"neighbourhood\",\"price\"]]\nd = data1.groupby(\"neighbourhood\").mean()\nsns.distplot(d,bins=20)\nplt.show()","output":{"0":{"name":"stderr","output_type":"stream","text":"/projects/2276727c-7763-4f74-8e1b-8f64a2a119f0/miniconda3/envs/nlp_env/lib/python3.8/site-packages/seaborn/distributions.py:2619: FutureWarning: `distplot` is a deprecated function and will be removed in a future version. Please adapt your code to use either `displot` (a figure-level function with similar flexibility) or `histplot` (an axes-level function for histograms).\n  warnings.warn(msg, FutureWarning)\n"},"1":{"data":{"image/png":"e5c5221ef587963279ff82cef7da4e2acaddad74","text/plain":"<Figure size 432x288 with 1 Axes>"},"exec_count":68,"metadata":{"needs_background":"light"},"output_type":"execute_result"}},"pos":17,"type":"cell"}
{"cell_type":"code","exec_count":70,"id":"3e15ee","input":"f,ax = plt.subplots(figsize=(16,8))\nax = sns.scatterplot(y=data.latitude,x=data.longitude,hue=data.neighbourhood_group,palette=\"coolwarm\")\nplt.show()","output":{"0":{"data":{"image/png":"be2c112612501006c72dc2802db3d1d8ad6832c1","text/plain":"<Figure size 1152x576 with 1 Axes>"},"exec_count":70,"metadata":{"needs_background":"light"},"output_type":"execute_result"}},"pos":19,"type":"cell"}
{"cell_type":"code","exec_count":74,"id":"3dff63","input":"import plotly.express as px\nfig = px.scatter(x=data['price'], y=data['neighbourhood_group'])\nfig.show()","output":{"0":{"data":{"iframe":"1c21c09599c37cd936d76fbbcef5b696715e0dbe"},"exec_count":74,"output_type":"execute_result"}},"pos":15,"type":"cell"}
{"cell_type":"code","exec_count":82,"id":"5cfeec","input":"data.isnull().sum()\n","output":{"0":{"data":{"text/plain":"host_id                           0\nneighbourhood_group               0\nneighbourhood                     0\nlatitude                          0\nlongitude                         0\nroom_type                         0\nprice                             0\nminimum_nights                    0\nnumber_of_reviews                 0\ncalculated_host_listings_count    0\navailability_365                  0\ndtype: int64"},"exec_count":82,"output_type":"execute_result"}},"pos":6,"type":"cell"}
{"cell_type":"code","exec_count":85,"id":"00a22a","input":"data.groupby('neighbourhood_group').size().plot(kind='pie', autopct='%.2f')","output":{"0":{"data":{"text/plain":"<AxesSubplot:ylabel='None'>"},"exec_count":85,"output_type":"execute_result"},"1":{"data":{"image/png":"deba8ec4bbbab8e13d4443e1d05c948e53cdcc75","text/plain":"<Figure size 432x288 with 1 Axes>"},"exec_count":85,"output_type":"execute_result"}},"pos":18,"type":"cell"}
{"cell_type":"code","exec_count":94,"id":"54be88","input":"data=data[data['price']>10]","pos":5,"type":"cell"}
{"cell_type":"code","exec_count":95,"id":"ad27d2","input":"data[data['price']<10].head(11)","output":{"0":{"data":{"text/html":"<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>host_id</th>\n      <th>neighbourhood_group</th>\n      <th>neighbourhood</th>\n      <th>latitude</th>\n      <th>longitude</th>\n      <th>room_type</th>\n      <th>price</th>\n      <th>minimum_nights</th>\n      <th>number_of_reviews</th>\n      <th>calculated_host_listings_count</th>\n      <th>availability_365</th>\n    </tr>\n  </thead>\n  <tbody>\n  </tbody>\n</table>\n</div>","text/plain":"Empty DataFrame\nColumns: [host_id, neighbourhood_group, neighbourhood, latitude, longitude, room_type, price, minimum_nights, number_of_reviews, calculated_host_listings_count, availability_365]\nIndex: []"},"exec_count":95,"output_type":"execute_result"}},"pos":4,"type":"cell"}
{"cell_type":"code","exec_count":97,"id":"25eb9a","input":"fig = px.scatter( x=data['minimum_nights'], y=data['price'], color=data[\"neighbourhood\"])\nfig.show()","output":{"0":{"data":{"iframe":"44e789749a71db7f1522ffa6f772840eab2e33af"},"exec_count":97,"output_type":"execute_result"}},"pos":21,"type":"cell"}
{"id":0,"time":1658521358791,"type":"user"}
{"last_load":1658519162894,"type":"file"}